<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Report: AI for Skin Cancer Detection</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFBF5;
            /* Warm Neutral Background */
            color: #4A4A4A;
        }

        .nav-link {
            transition: color 0.3s ease, border-bottom-color 0.3s ease;
            border-bottom: 2px solid transparent;
        }

        .nav-link:hover,
        .nav-link.active {
            color: #D97706;
            /* Amber-700 */
            border-bottom-color: #D97706;
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }

        .pipeline-step {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .pipeline-step:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }

        .stat-card {
            background-color: white;
            border-left: 5px solid #F59E0B;
            /* Amber-500 */
        }

        .btn-primary {
            background-color: #D97706;
            /* Amber-700 */
            color: white;
            transition: background-color 0.3s;
        }

        .btn-primary:hover {
            background-color: #B45309;
            /* Amber-800 */
        }

        #upload-box {
            border: 2px dashed #E5E7EB;
            transition: border-color 0.3s;
        }

        #upload-box.has-image {
            border-color: #D97706;
        }

        .spinner {
            border-top-color: #D97706;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>
</head>

<body class="antialiased">

    <!-- Header & Navigation -->
    <header id="header" class="bg-white/80 backdrop-blur-md sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#hero" class="text-xl font-bold text-amber-700">AI in Dermatology</a>
            <div class="hidden md:flex space-x-8">
                <a href="#problem" class="nav-link">The Problem</a>
                <a href="#approach" class="nav-link">Our Approach</a>
                <a href="#model" class="nav-link">The Model</a>
                <a href="#results" class="nav-link">Results</a>
                <a href="#demo" class="nav-link">Demo</a>
            </div>
            <div class="md:hidden">
                <button id="menu-btn" class="text-gray-700 focus:outline-none">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M4 6h16M4 12h16m-7 6h7"></path>
                    </svg>
                </button>
            </div>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden">
            <a href="#problem" class="block py-2 px-4 text-sm hover:bg-amber-50">The Problem</a>
            <a href="#approach" class="block py-2 px-4 text-sm hover:bg-amber-50">Our Approach</a>
            <a href="#model" class="block py-2 px-4 text-sm hover:bg-amber-50">The Model</a>
            <a href="#results" class="block py-2 px-4 text-sm hover:bg-amber-50">Results</a>
            <a href="#demo" class="block py-2 px-4 text-sm hover:bg-amber-50">Demo</a>
        </div>
    </header>

    <main>
        <!-- Hero Section -->
        <section id="hero" class="min-h-[60vh] flex items-center bg-white">
            <div class="container mx-auto px-6 text-center">
                <h1 class="text-4xl md:text-6xl font-bold text-gray-800 leading-tight">An Interactive Report on <br>
                    <span class="text-amber-700">Skin Cancer Detection</span>
                </h1>
                <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto">This report details the development of a deep
                    learning model to aid in the early diagnosis of melanoma, transforming a traditional academic
                    document into an explorable digital experience.</p>
                <a href="#problem"
                    class="mt-8 inline-block btn-primary font-bold py-3 px-8 rounded-full text-lg">Explore the
                    Project</a>
            </div>
        </section>

        <!-- The Problem Section -->
        <section id="problem" class="py-20">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-800">The Problem: A Global Health Challenge</h2>
                    <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto">Skin cancer is the most common form of
                        cancer, yet early detection dramatically increases survival rates. This project addresses the
                        need for accessible and accurate diagnostic tools.</p>
                </div>
                <div class="grid md:grid-cols-2 gap-12 items-center">
                    <div class="p-8 bg-white rounded-lg shadow-lg">
                        <h3 class="text-2xl font-bold text-amber-700 mb-4">The Threat of Melanoma</h3>
                        <p class="text-gray-600">Among skin cancers, melanoma is the most dangerous due to its ability
                            to metastasize and spread. While it accounts for a small percentage of skin cancer cases, it
                            causes a large majority of skin cancer deaths.</p>
                        <p class="mt-4 text-gray-600">Traditional diagnosis requires expert dermatologists, whose
                            availability is limited, creating a bottleneck in healthcare systems and delaying
                            potentially life-saving treatment.</p>
                    </div>
                    <div class="grid grid-cols-2 gap-6 text-center">
                        <div class="stat-card p-6 rounded-lg shadow-md">
                            <span class="text-4xl font-bold text-amber-700 block" id="stat1">90</span>
                            <span class="text-gray-500 mt-2 block">%+</span>
                            <p class="font-semibold">5-Year Survival Rate</p>
                            <p class="text-sm text-gray-500">with early detection</p>
                        </div>
                        <div class="stat-card p-6 rounded-lg shadow-md">
                            <span class="text-4xl font-bold text-amber-700 block" id="stat2">10000</span>
                            <span class="text-gray-500 mt-2 block">images</span>
                            <p class="font-semibold">HAM10000 Dataset</p>
                            <p class="text-sm text-gray-500">used for training</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Our Approach Section -->
        <section id="approach" class="py-20 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-800">Our Approach: The Machine Learning Pipeline
                    </h2>
                    <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto">We followed a systematic process to build
                        our detection model. Click on each step to learn more about our methodology.</p>
                </div>
                <div id="pipeline-container" class="grid grid-cols-1 md:grid-cols-5 gap-4 text-center items-start">
                    <div class="p-6 bg-white rounded-lg shadow-md cursor-pointer pipeline-step">
                        <div class="text-3xl text-amber-600 mb-2">1</div>
                        <h4 class="font-bold text-gray-700">Data Collection</h4>
                    </div>
                    <div
                        class="flex items-center justify-center text-2xl text-gray-300 font-bold rotate-90 md:rotate-0">
                        →</div>
                    <div class="p-6 bg-white rounded-lg shadow-md cursor-pointer pipeline-step">
                        <div class="text-3xl text-amber-600 mb-2">2</div>
                        <h4 class="font-bold text-gray-700">Preprocessing</h4>
                    </div>
                    <div
                        class="flex items-center justify-center text-2xl text-gray-300 font-bold rotate-90 md:rotate-0">
                        →</div>
                    <div class="p-6 bg-white rounded-lg shadow-md cursor-pointer pipeline-step">
                        <div class="text-3xl text-amber-600 mb-2">3</div>
                        <h4 class="font-bold text-gray-700">Model Building</h4>
                    </div>
                    <div
                        class="flex items-center justify-center text-2xl text-gray-300 font-bold rotate-90 md:rotate-0">
                        →</div>
                    <div class="p-6 bg-white rounded-lg shadow-md cursor-pointer pipeline-step">
                        <div class="text-3xl text-amber-600 mb-2">4</div>
                        <h4 class="font-bold text-gray-700">Training</h4>
                    </div>
                    <div
                        class="flex items-center justify-center text-2xl text-gray-300 font-bold rotate-90 md:rotate-0">
                        →</div>
                    <div class="p-6 bg-white rounded-lg shadow-md cursor-pointer pipeline-step">
                        <div class="text-3xl text-amber-600 mb-2">5</div>
                        <h4 class="font-bold text-gray-700">Evaluation</h4>
                    </div>
                </div>
                <div id="pipeline-details"
                    class="mt-8 p-6 bg-amber-50 rounded-lg text-gray-700 min-h-[100px] transition-opacity duration-300">
                    <p>Select a step above to see details.</p>
                </div>
            </div>
        </section>

        <!-- The Model Section -->
        <section id="model" class="py-20">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-800">The Model: A Deep Dive</h2>
                    <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto">At the core of our system is a Convolutional
                        Neural Network (CNN) trained on the HAM10000 dataset. Here's a look at the data distribution and
                        the model's structure.</p>
                </div>
                <div class="grid md:grid-cols-2 gap-12 items-center">
                    <div>
                        <h3 class="text-2xl font-bold mb-4 text-gray-700">Dataset Distribution</h3>
                        <p class="text-gray-600 mb-4">The HAM10000 dataset is imbalanced, with far more non-melanoma
                            (benign) cases than melanoma cases. This is a common challenge in medical imaging that our
                            model must handle.</p>
                        <div class="chart-container" style="height: 300px; max-height: 350px;">
                            <canvas id="distributionChart"></canvas>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-2xl font-bold mb-4 text-gray-700">CNN Architecture</h3>
                        <p class="text-gray-600 mb-4">Our model uses a series of convolutional and pooling layers to
                            learn features from the images, followed by dense layers for classification. This is a
                            standard yet powerful architecture for image recognition.</p>
                        <div class="space-y-3 p-4 bg-white rounded-lg shadow-lg">
                            <div class="bg-blue-100 p-3 rounded text-blue-800 font-mono">Input Image [128x128x3]</div>
                            <div class="text-center font-bold">↓</div>
                            <div class="bg-green-100 p-3 rounded text-green-800 font-mono">Conv2D → Pool</div>
                            <div class="text-center font-bold">↓</div>
                            <div class="bg-green-100 p-3 rounded text-green-800 font-mono">Conv2D → Pool</div>
                            <div class="text-center font-bold">↓</div>
                            <div class="bg-green-100 p-3 rounded text-green-800 font-mono">Conv2D → Pool</div>
                            <div class="text-center font-bold">↓</div>
                            <div class="bg-yellow-100 p-3 rounded text-yellow-800 font-mono">Flatten → Dense → Dropout
                            </div>
                            <div class="text-center font-bold">↓</div>
                            <div class="bg-red-100 p-3 rounded text-red-800 font-mono">Output (Prediction)</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Results Section -->
        <section id="results" class="py-20 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-800">Results: Performance Analysis</h2>
                    <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto">How well did our model perform? The
                        following visualizations break down its accuracy, loss, and classification performance on the
                        validation data.</p>
                </div>
                <div class="grid md:grid-cols-2 gap-12">
                    <div>
                        <h3 class="text-xl font-bold text-center mb-4 text-gray-700">Training & Validation Accuracy</h3>
                        <div class="chart-container">
                            <canvas id="accuracyChart"></canvas>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-xl font-bold text-center mb-4 text-gray-700">Training & Validation Loss</h3>
                        <div class="chart-container">
                            <canvas id="lossChart"></canvas>
                        </div>
                    </div>
                </div>
                <div class="mt-16">
                    <h3 class="text-2xl font-bold text-center mb-6 text-gray-700">Confusion Matrix</h3>
                    <p class="text-gray-600 max-w-2xl mx-auto text-center mb-6">This matrix shows the model's
                        predictions versus the actual labels. It helps us see where the model is succeeding and where
                        it's making mistakes (e.g., classifying a melanoma as non-melanoma).</p>
                    <div id="confusionMatrix" class="max-w-md mx-auto bg-white shadow-lg rounded-lg overflow-hidden">
                        <!-- Matrix will be injected here by JS -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Demo Section -->
        <section id="demo" class="py-20">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-800">Interactive Demo (Simulated)</h2>
                    <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto">Upload an image of a skin lesion below and
                        see a simulated analysis from our model. This demonstrates the user-facing functionality of a
                        real diagnostic tool.</p>
                </div>
                <div class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-2xl">
                    <div class="grid md:grid-cols-2 gap-8 items-center">
                        <div>
                            <h3 class="text-xl font-bold text-gray-700 mb-4">1. Upload an Image</h3>
                            <div id="upload-box"
                                class="flex flex-col items-center justify-center p-8 rounded-lg cursor-pointer transition-colors duration-300">
                                <label for="file-upload" class="cursor-pointer">
                                    <svg class="w-12 h-12 text-gray-400" fill="currentColor" viewBox="0 0 20 20"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M5.5 13a1.5 1.5 0 01-3 0 1.5 1.5 0 013 0zM12 2a1.5 1.5 0 011.5 1.5V6a1.5 1.5 0 01-1.5 1.5H8.5A1.5 1.5 0 017 6V3.5A1.5 1.5 0 018.5 2zM15 13a1.5 1.5 0 01-3 0 1.5 1.5 0 013 0zM9.5 2a1.5 1.5 0 011.5 1.5V6a1.5 1.5 0 01-1.5 1.5H8.5A1.5 1.5 0 017 6V3.5A1.5 1.5 0 018.5 2zM18.5 7.5a1.5 1.5 0 011.5 1.5v4.5A1.5 1.5 0 0118.5 15h-15A1.5 1.5 0 012 13.5V9a1.5 1.5 0 011.5-1.5z">
                                        </path>
                                    </svg>
                                    <p class="mt-2 text-sm text-gray-600">Click to upload or drag & drop</p>
                                    <input id="file-upload" type="file" class="hidden" accept="image/*">
                                </label>
                                <img id="uploaded-image" src="" alt="Uploaded image"
                                    class="hidden mt-4 max-h-[200px] w-auto rounded-lg shadow-md">
                            </div>
                            <button id="analyze-btn"
                                class="mt-4 w-full btn-primary font-bold py-3 px-8 rounded-full disabled:opacity-50 disabled:cursor-not-allowed">Analyze
                                Image</button>
                        </div>
                        <div class="text-center">
                            <h3 class="text-xl font-bold text-gray-700 mb-4">2. Analysis Result</h3>
                            <div id="demo-result"
                                class="p-6 bg-gray-100 rounded-lg min-h-[250px] flex items-center justify-center">
                                <p class="text-gray-500">Upload an image to start analysis.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-6 text-center">
            <p>&copy; 2025 AI in Dermatology Project. An interactive visualization.</p>
            <p class="text-sm text-gray-400 mt-2">Based on the "Skin Cancer Detection Documentation".</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const menuBtn = document.getElementById('menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            menuBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });

            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('section');

            function changeNav() {
                let index = sections.length;
                while (--index && window.scrollY + 100 < sections[index].offsetTop) { }

                navLinks.forEach((link) => link.classList.remove('active'));
                if (index > -1 && navLinks[index]) {
                    navLinks[index].classList.add('active');
                }
            }
            changeNav();
            window.addEventListener('scroll', changeNav);

            function animateValue(obj, start, end, duration) {
                let startTimestamp = null;
                const step = (timestamp) => {
                    if (!startTimestamp) startTimestamp = timestamp;
                    const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                    obj.innerHTML = Math.floor(progress * (end - start) + start);
                    if (progress < 1) {
                        window.requestAnimationFrame(step);
                    }
                };
                window.requestAnimationFrame(step);
            }

            const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const stat1 = document.getElementById('stat1');
                        const stat2 = document.getElementById('stat2');
                        animateValue(stat1, 0, 99, 1500);
                        animateValue(stat2, 0, 10015, 1500);
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.5 });
            observer.observe(document.getElementById('problem'));

            const pipelineData = [
                { title: 'Data Collection', details: 'The process began by acquiring the HAM10000 dataset, which contains over 10,000 dermoscopic images of various skin lesions, forming the foundation for our model.' },
                { title: 'Preprocessing', details: 'Images were normalized and resized to a standard 128x128 pixels. Data augmentation techniques (rotation, shifting, flipping) were applied to artificially expand the dataset and prevent overfitting.' },
                { title: 'Model Building', details: 'A Convolutional Neural Network (CNN) was constructed with multiple layers to learn hierarchical features from the images, designed specifically for this binary classification task.' },
                { title: 'Training', details: 'The CNN model was trained on the preprocessed data for 20 epochs. The model learned to differentiate between melanoma and non-melanoma lesions by adjusting its internal weights based on the training images.' },
                { title: 'Evaluation', details: 'The model\'s performance was assessed on a separate validation set of images it had never seen before. We measured metrics like accuracy, precision, and recall to understand its effectiveness.' }
            ];
            const pipelineContainer = document.getElementById('pipeline-container');
            const detailsContainer = document.getElementById('pipeline-details');

            pipelineData.forEach((step, index) => {
                const stepEl = document.createElement('div');
                stepEl.innerHTML = `<div class="p-6 bg-white rounded-lg shadow-md cursor-pointer pipeline-step">
                    <div class="text-3xl text-amber-600 mb-2">${index + 1}</div>
                    <h4 class="font-bold text-gray-700">${step.title}</h4>
                </div>`;
                if (index < pipelineData.length - 1) {
                    const arrowEl = document.createElement('div');
                    arrowEl.classList.add('flex', 'items-center', 'justify-center', 'text-2xl', 'text-gray-300', 'font-bold', 'rotate-90', 'md:rotate-0');
                    pipelineContainer.appendChild(stepEl);
                    if (index < 4) { }
                } else {
                    pipelineContainer.appendChild(stepEl);
                }

                stepEl.addEventListener('click', () => {
                    document.querySelectorAll('.pipeline-step').forEach(el => el.classList.remove('bg-amber-100'));
                    stepEl.querySelector('.pipeline-step').classList.add('bg-amber-100');
                    detailsContainer.style.opacity = 0;
                    setTimeout(() => {
                        detailsContainer.innerHTML = `<h4 class="font-bold mb-2">${step.title}</h4><p>${step.details}</p>`;
                        detailsContainer.style.opacity = 1;
                    }, 300);
                });
            });

            const chartFontColor = '#4A4A4A';
            const chartGridColor = '#E5E7EB';
            Chart.defaults.font.family = "'Inter', sans-serif";
            Chart.defaults.color = chartFontColor;

            new Chart(document.getElementById('distributionChart'), {
                type: 'doughnut',
                data: {
                    labels: ['Non-Melanoma', 'Melanoma'],
                    datasets: [{
                        label: 'Lesion Type Distribution',
                        data: [8961, 1154],
                        backgroundColor: ['#6EE7B7', '#F87171'],
                        borderColor: '#FDFBF5',
                        borderWidth: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom' },
                        title: { display: false }
                    }
                }
            });

            const epochs = Array.from({ length: 20 }, (_, i) => i + 1);
            const trainAcc = [0.85, 0.87, 0.88, 0.885, 0.89, 0.892, 0.895, 0.90, 0.902, 0.905, 0.91, 0.912, 0.915, 0.917, 0.92, 0.922, 0.925, 0.927, 0.93, 0.932];
            const valAcc = [0.86, 0.875, 0.882, 0.88, 0.885, 0.887, 0.89, 0.891, 0.89, 0.892, 0.895, 0.893, 0.896, 0.895, 0.897, 0.898, 0.895, 0.896, 0.898, 0.89];
            const trainLoss = [0.45, 0.40, 0.38, 0.37, 0.35, 0.34, 0.33, 0.32, 0.31, 0.30, 0.29, 0.28, 0.27, 0.26, 0.25, 0.24, 0.23, 0.22, 0.21, 0.20];
            const valLoss = [0.42, 0.39, 0.37, 0.38, 0.36, 0.35, 0.34, 0.33, 0.34, 0.33, 0.32, 0.33, 0.31, 0.32, 0.30, 0.29, 0.30, 0.31, 0.29, 0.30];

            new Chart(document.getElementById('accuracyChart'), {
                type: 'line',
                data: {
                    labels: epochs,
                    datasets: [
                        { label: 'Training Accuracy', data: trainAcc, borderColor: '#3B82F6', backgroundColor: '#3B82F620', tension: 0.1 },
                        { label: 'Validation Accuracy', data: valAcc, borderColor: '#F59E0B', backgroundColor: '#F59E0B20', tension: 0.1 }
                    ]
                },
                options: {
                    responsive: true, maintainAspectRatio: false, scales: { y: { beginAtZero: false, suggestedMin: 0.8 } },
                    plugins: { legend: { position: 'bottom' } }
                }
            });

            new Chart(document.getElementById('lossChart'), {
                type: 'line',
                data: {
                    labels: epochs,
                    datasets: [
                        { label: 'Training Loss', data: trainLoss, borderColor: '#3B82F6', backgroundColor: '#3B82F620', tension: 0.1 },
                        { label: 'Validation Loss', data: valLoss, borderColor: '#F59E0B', backgroundColor: '#F59E0B20', tension: 0.1 }
                    ]
                },
                options: {
                    responsive: true, maintainAspectRatio: false, scales: { y: { beginAtZero: true } },
                    plugins: { legend: { position: 'bottom' } }
                }
            });

            const matrixData = { TN: 1754, FP: 48, FN: 181, TP: 20 };
            const matrixContainer = document.getElementById('confusionMatrix');
            matrixContainer.innerHTML = `
                <div class="flex">
                    <div class="w-1/4 p-2 font-bold text-gray-500 flex items-center justify-center"></div>
                    <div class="w-3/4 flex text-center">
                        <div class="w-1/2 p-2 font-bold text-gray-700">Predicted: Non-Melanoma</div>
                        <div class="w-1/2 p-2 font-bold text-gray-700">Predicted: Melanoma</div>
                    </div>
                </div>
                <div class="flex">
                    <div class="w-1/4 p-2 font-bold text-gray-700 flex items-center justify-center rotate-[-90deg]">Actual</div>
                    <div class="w-3/4">
                        <div class="flex items-stretch">
                             <div class="w-1/2 p-4 border-t border-l border-gray-200 text-center bg-green-50">
                                <span class="block text-2xl font-bold text-green-700">${matrixData.TN}</span>
                                <span class="text-sm text-green-600">True Negative</span>
                            </div>
                            <div class="w-1/2 p-4 border-t border-l border-gray-200 text-center bg-red-50">
                                <span class="block text-2xl font-bold text-red-700">${matrixData.FP}</span>
                                <span class="text-sm text-red-600">False Positive</span>
                            </div>
                        </div>
                        <div class="flex items-stretch">
                            <div class="w-1/2 p-4 border-t border-l border-gray-200 text-center bg-orange-50">
                                <span class="block text-2xl font-bold text-orange-700">${matrixData.FN}</span>
                                <span class="text-sm text-orange-600">False Negative</span>
                            </div>
                             <div class="w-1/2 p-4 border-t border-l border-gray-200 text-center bg-green-50">
                                <span class="block text-2xl font-bold text-green-700">${matrixData.TP}</span>
                                <span class="text-sm text-green-600">True Positive</span>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            // Demo Interaction
            const fileUpload = document.getElementById('file-upload');
            const uploadedImage = document.getElementById('uploaded-image');
            const uploadBox = document.getElementById('upload-box');
            const analyzeBtn = document.getElementById('analyze-btn');
            const demoResult = document.getElementById('demo-result');

            function resetDemo() {
                uploadedImage.src = '';
                uploadedImage.classList.add('hidden');
                uploadBox.classList.remove('has-image');
                analyzeBtn.disabled = true;
                demoResult.innerHTML = `<p class="text-gray-500">Upload an image to start analysis.</p>`;
            }

            fileUpload.addEventListener('change', (event) => {
                const file = event.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        uploadedImage.src = e.target.result;
                        uploadedImage.classList.remove('hidden');
                        uploadBox.classList.add('has-image');
                        analyzeBtn.disabled = false;
                        demoResult.innerHTML = `<p class="text-gray-500">Press "Analyze Image" to get a result.</p>`;
                    };
                    reader.readAsDataURL(file);
                } else {
                    resetDemo();
                }
            });

            analyzeBtn.addEventListener('click', () => {
                if (!uploadedImage.src) { return; }
                analyzeBtn.disabled = true;

                demoResult.innerHTML = `
                    <div class="flex flex-col items-center">
                        <div class="spinner w-12 h-12 border-4 border-gray-200 rounded-full"></div>
                        <p class="mt-4 text-gray-500">Analyzing image...</p>
                    </div>
                `;

                setTimeout(() => {
                    const isMalignant = Math.random() < 0.2; // 20% chance of malignant
                    let resultHtml = '';

                    if (isMalignant) {
                        const confidence = (Math.random() * (0.85 - 0.70) + 0.70).toFixed(2);
                        resultHtml = `
                            <div class="text-red-700">
                                <div class="text-5xl font-bold">${(confidence * 100).toFixed(0)}%</div>
                                <div class="text-xl font-semibold mt-2">Malignant</div>
                                <p class="text-sm mt-1 text-gray-500">Model's confidence for this classification. <br> Further medical review is highly recommended.</p>
                            </div>
                        `;
                    } else {
                        const confidence = (Math.random() * (0.98 - 0.90) + 0.90).toFixed(2);
                        resultHtml = `
                            <div class="text-green-700">
                                <div class="text-5xl font-bold">${(confidence * 100).toFixed(0)}%</div>
                                <div class="text-xl font-semibold mt-2">Benign</div>
                                <p class="text-sm mt-1 text-gray-500">Model's confidence for this classification. <br> This does not replace a professional diagnosis.</p>
                            </div>
                        `;
                    }
                    demoResult.innerHTML = resultHtml;
                    analyzeBtn.disabled = false;
                }, 2000);
            });
        });
    </script>
</body>

</html>